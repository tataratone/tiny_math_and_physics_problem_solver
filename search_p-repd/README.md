# Search p-pred

ある素数 $`p`$ について $`p`$ 進数表記でゾロ目になる数を探す．

## 問題設定

正整数 $`N`$ と素数 $`p`$ について、「 $`N`$ は $`p{\rm -repd}`$ である」とは，$`N`$ の $`p`$ 進数表示において各桁の数がすべて等しいことをいう．たとえば，$`4_{(10)} = 11_{(3)}`$，$`8_{(10)} = 22_{(3)}`$ であるから，$`4`$ と $`8`$ はともに $`3-{\rm repd}`$ である．また，$`p-{\rm repd}`$ な $`N`$ の $`p`$ 進数表示が $`1`$ 桁の数のとき $`N`$ は自明であるといい、そうでないとき $`N`$ は非自明であるという．たとえば，$`4_{(5)}`$ は自明な $`5-{\rm repd}`$ である．

$`p_1-{\rm repd}`$ かつ $`p_2-{\rm repd}`$ かつ $`...`$ かつ $`p_k-{\rm repd}`$ であるような $`N`$ と $`k`$ 個の素数組 $`p_1, p_2, ... , p_k`$ を探したい．

## 必要なライブラリ

```
- sympy
- tqdm
```

## 使い方

$`p_1-{\rm repd}`$ かつ $`p_2-{\rm repd}`$ かつ $`...`$ かつ $`p_k-{\rm repd}`$ であるような $`N`$ と $`k`$ 個の素数組 $`p_1, p_2, ... , p_k`$ を以下の条件で探索する．

- $`p_{\rm max}`$ までの素数
- $`d_{\rm min} \ ... \ d_{\rm max}`$ の範囲の桁数

レポジトリ内で以下のようなコマンドを実行する．

```bash
$ python search_p-repd.py --prime_max=<int: p_max> --tuple_size=<int: k> --d_min=<int: d_min> --d_max=<int: d_max>
```

### コマンドライン引数

| 引数 | 型 | 説明 |
|------|-----|------|
| `--prime_max` | int | 探索する素数の最大値 $`p_{\rm max}`$ |
| `--tuple_size` | int | 素数の組のサイズ $`k`$ |
| `--d_min` | int | 探索する桁数の最小値 $`d_{\rm min}`$ |
| `--d_max` | int | 探索する桁数の最大値 $`d_{\rm max}`$ |
| `--stop_after` | int | オプション．この数の組が見つかればそこで探索終了する．デフォルトは `None`（全探索） |

### 返り値

以下のような形式の辞書のリストで返す．

| キー | 型 | 説明 |
|------|-----|------|
| `primes` | tuple[int, int, ..., int] | $`k`$ 個の素数の組 $`(p_1, p_2, ..., p_k)`$ |
| `digits` | tuple[int, int, ..., int] | 各素数 $`p_i`$ の桁数 $`d_i`$ |
| `a` | tuple[int, int, ..., int] | 各素数 $`p_i`$ のゾロ目の数 $`a_i`$ |
| `N` | int | $N$ の $10$ 進数表記  |

## 実行例

$p-{\rm repd}$ かつ $q-{\rm repd}$ であるような $`N`$ と素数のペア $`p, q`$ を探す．

- $`10`$ 以下の素数に限定
- 各素数の進数表記したときの桁数を $`2 \sim 10`$ に限定

レポジトリ内で以下のようなコマンドを実行する．

```bash
$ python search_p-repd.py --prime_max=10 --tuple_size=2 --d_min=2 --d_max=10
```

### 実行結果

```bash
{'primes': (2, 5), 'digits': (5, 3), 'a': (1, 1), 'N': 31}
{'primes': (3, 7), 'digits': (2, 2), 'a': (2, 1), 'N': 8}
{'primes': (3, 7), 'digits': (4, 2), 'a': (1, 5), 'N': 40}
{'primes': (5, 7), 'digits': (2, 2), 'a': (4, 3), 'N': 24}
```

一番上の `{'primes': (2, 5), 'digits': (5, 3), 'a': (1, 1), 'N': 31}` は，$`N=31`$ を $2$ 進数で表記すると $`11111`$ で $`5`$ 桁のゾロ目，$`5`$ 進数で表記すると `111` で $`3`$ 桁のゾロ目になることを意味する．実際にこれは正しい．
